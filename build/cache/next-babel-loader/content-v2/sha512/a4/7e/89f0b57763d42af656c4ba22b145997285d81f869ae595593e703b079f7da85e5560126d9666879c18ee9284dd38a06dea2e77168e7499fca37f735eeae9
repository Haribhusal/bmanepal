{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"/home/whiteshadow/projects/benchmark-advisors/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport * as yup from 'yup';\nimport { useRouter } from 'next/router';\nimport { useDispatch } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { updatePassword } from '../../actions/auth';\n\nvar UpdatePasswordForm = function UpdatePasswordForm() {\n  var _errors$old_password, _errors$password, _errors$password2, _errors$password_conf, _errors$password_conf2;\n\n  var dispatch = useDispatch();\n  var router = useRouter();\n  var schema = yup.object().shape({\n    old_password: yup.string().required(),\n    password: yup.string().required().min(8).matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/, 'Must contain at least one uppercase letter, number and special character'),\n    password_confirmation: yup.string().required().oneOf([yup.ref('password')], 'Passwords must match')\n  });\n\n  var _useForm = useForm({\n    resolver: yupResolver(schema)\n  }),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.formState.errors;\n\n  var onSubmit = function onSubmit(data) {\n    dispatch(updatePassword(data, router.pathname === '/startup/edit-profile' ? 'startup' : 'investor'));\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"col-sm-6 d-flex align-items-center\",\n      children: /*#__PURE__*/_jsx(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        className: \"w-100\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"formwrapper\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-sm-12\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsx(\"label\", {\n                  htmlFor: \"\",\n                  className: \"small text-muted\",\n                  children: \"Current Password\"\n                }), /*#__PURE__*/_jsx(\"input\", _objectSpread(_objectSpread({}, register('old_password')), {}, {\n                  name: \"old_password\",\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"Current Password\"\n                })), (errors === null || errors === void 0 ? void 0 : (_errors$old_password = errors.old_password) === null || _errors$old_password === void 0 ? void 0 : _errors$old_password.type) === 'required' && /*#__PURE__*/_jsx(\"span\", {\n                  className: \"text-danger\",\n                  children: \"Current Password is a required field\"\n                })]\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-sm-12\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsx(\"label\", {\n                  htmlFor: \"\",\n                  className: \"small text-muted\",\n                  children: \"New Password\"\n                }), /*#__PURE__*/_jsx(\"input\", _objectSpread(_objectSpread({}, register('password')), {}, {\n                  name: \"password\",\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"New Password\"\n                })), (errors === null || errors === void 0 ? void 0 : (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.type) === 'required' ? /*#__PURE__*/_jsx(\"span\", {\n                  className: \"text-danger\",\n                  children: \"New Password is a required field\"\n                }) : /*#__PURE__*/_jsx(\"span\", {\n                  className: \"text-danger\",\n                  children: (_errors$password2 = errors.password) === null || _errors$password2 === void 0 ? void 0 : _errors$password2.message\n                })]\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-sm-12\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsx(\"label\", {\n                  htmlFor: \"\",\n                  className: \"small text-muted\",\n                  children: \"Confirm Password\"\n                }), /*#__PURE__*/_jsx(\"input\", _objectSpread(_objectSpread({}, register('password_confirmation')), {}, {\n                  name: \"password_confirmation\",\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"Confirm Password\"\n                })), (errors === null || errors === void 0 ? void 0 : (_errors$password_conf = errors.password_confirmation) === null || _errors$password_conf === void 0 ? void 0 : _errors$password_conf.type) === 'required' ? /*#__PURE__*/_jsx(\"span\", {\n                  className: \"text-danger\",\n                  children: \"Confirm Password is a required field\"\n                }) : /*#__PURE__*/_jsx(\"span\", {\n                  className: \"text-danger\",\n                  children: (_errors$password_conf2 = errors.password_confirmation) === null || _errors$password_conf2 === void 0 ? void 0 : _errors$password_conf2.message\n                })]\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-sm-12 d-flex justify-content-between\",\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"Submit\",\n                defaultValue: \"Submit\",\n                className: \"btn btn_p\"\n              })\n            })\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"rightbarContent\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"imagewrapper\",\n        children: /*#__PURE__*/_jsx(\"img\", {\n          src: \"images/joinbenchmark.png\",\n          className: \"img-fluid\",\n          alt: \"\"\n        })\n      })\n    })]\n  });\n};\n\nexport default UpdatePasswordForm;","map":null,"metadata":{},"sourceType":"module"}