{"ast":null,"code":"import axios from \"axios\";\nimport { SIGN_UP, LOGIN, PROFILE } from \"./types\";\nimport { useRouter } from \"next/router\";\nimport { responsiveFontSizes } from \"@material-ui/core\"; // SIGNUP USER\n\nexport var signup = function signup(data) {\n  return function (dispatch) {\n    data[\"files\"] = [];\n    var form_data = new FormData();\n\n    for (var key in data) {\n      form_data.append(key, data[key]);\n    }\n\n    var config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n    axios.post(\"/api/startup/signup/\", form_data, config).then(function (res) {\n      dispatch({\n        type: SIGN_UP,\n        payload: res.data\n      });\n    });\n  };\n}; // LOGIN USER\n\nexport var login = function login(data) {\n  return function (dispatch) {\n    var form_data = new FormData();\n\n    for (var key in data) {\n      form_data.append(key, data[key]);\n    }\n\n    axios.post(\"/api/startup/login\", form_data).then(function (res) {\n      dispatch({\n        type: LOGIN,\n        payload: res.data\n      });\n    });\n  };\n}; // GET USER PROFILE\n\nexport var getProfile = function getProfile() {\n  return function (dispatch) {\n    var token = localStorage.getItem(\"token\");\n    var config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Brearer \".concat(token)\n      }\n    };\n\n    try {\n      axios.get(\"/api/startup/profile\", config).then(function (res) {\n        dispatch({\n          type: PROFILE,\n          payload: res.data\n        });\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};","map":{"version":3,"sources":["/home/whiteshadow/projects/benchmark-advisors/actions/auth.js"],"names":["axios","SIGN_UP","LOGIN","PROFILE","useRouter","responsiveFontSizes","signup","data","dispatch","form_data","FormData","key","append","config","headers","post","then","res","type","payload","login","getProfile","token","localStorage","getItem","Authorization","get","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,KAAlB,EAAyBC,OAAzB,QAAwC,SAAxC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,mBAAT,QAAoC,mBAApC,C,CAEA;;AACA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,IAAD;AAAA,SAAU,UAACC,QAAD,EAAc;AAC5CD,IAAAA,IAAI,CAAC,OAAD,CAAJ,GAAgB,EAAhB;AACA,QAAIE,SAAS,GAAG,IAAIC,QAAJ,EAAhB;;AACA,SAAK,IAAIC,GAAT,IAAgBJ,IAAhB,EAAsB;AACpBE,MAAAA,SAAS,CAACG,MAAV,CAAiBD,GAAjB,EAAsBJ,IAAI,CAACI,GAAD,CAA1B;AACD;;AACD,QAAME,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf;AAKAd,IAAAA,KAAK,CAACe,IAAN,CAAW,sBAAX,EAAmCN,SAAnC,EAA8CI,MAA9C,EAAsDG,IAAtD,CAA2D,UAACC,GAAD,EAAS;AAClET,MAAAA,QAAQ,CAAC;AACPU,QAAAA,IAAI,EAAEjB,OADC;AAEPkB,QAAAA,OAAO,EAAEF,GAAG,CAACV;AAFN,OAAD,CAAR;AAID,KALD;AAMD,GAjBqB;AAAA,CAAf,C,CAmBP;;AACA,OAAO,IAAMa,KAAK,GAAG,SAARA,KAAQ,CAACb,IAAD;AAAA,SAAU,UAACC,QAAD,EAAc;AAC3C,QAAIC,SAAS,GAAG,IAAIC,QAAJ,EAAhB;;AACA,SAAK,IAAIC,GAAT,IAAgBJ,IAAhB,EAAsB;AACpBE,MAAAA,SAAS,CAACG,MAAV,CAAiBD,GAAjB,EAAsBJ,IAAI,CAACI,GAAD,CAA1B;AACD;;AACDX,IAAAA,KAAK,CAACe,IAAN,CAAW,oBAAX,EAAiCN,SAAjC,EAA4CO,IAA5C,CAAiD,UAACC,GAAD,EAAS;AACxDT,MAAAA,QAAQ,CAAC;AACPU,QAAAA,IAAI,EAAEhB,KADC;AAEPiB,QAAAA,OAAO,EAAEF,GAAG,CAACV;AAFN,OAAD,CAAR;AAID,KALD;AAMD,GAXoB;AAAA,CAAd,C,CAaP;;AACA,OAAO,IAAMc,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,UAACb,QAAD,EAAc;AAC5C,QAAMc,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAMX,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPW,QAAAA,aAAa,oBAAaH,KAAb;AAFN;AADI,KAAf;;AAMA,QAAI;AACFtB,MAAAA,KAAK,CAAC0B,GAAN,CAAU,sBAAV,EAAkCb,MAAlC,EAA0CG,IAA1C,CAA+C,UAACC,GAAD,EAAS;AACtDT,QAAAA,QAAQ,CAAC;AACPU,UAAAA,IAAI,EAAEf,OADC;AAEPgB,UAAAA,OAAO,EAAEF,GAAG,CAACV;AAFN,SAAD,CAAR;AAID,OALD;AAMD,KAPD,CAOE,OAAOoB,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAlByB;AAAA,CAAnB","sourcesContent":["import axios from \"axios\";\nimport { SIGN_UP, LOGIN, PROFILE } from \"./types\";\nimport { useRouter } from \"next/router\";\nimport { responsiveFontSizes } from \"@material-ui/core\";\n\n// SIGNUP USER\nexport const signup = (data) => (dispatch) => {\n  data[\"files\"] = [];\n  var form_data = new FormData();\n  for (var key in data) {\n    form_data.append(key, data[key]);\n  }\n  const config = {\n    headers: {\n      \"content-type\": \"multipart/form-data\",\n    },\n  };\n  axios.post(\"/api/startup/signup/\", form_data, config).then((res) => {\n    dispatch({\n      type: SIGN_UP,\n      payload: res.data,\n    });\n  });\n};\n\n// LOGIN USER\nexport const login = (data) => (dispatch) => {\n  var form_data = new FormData();\n  for (var key in data) {\n    form_data.append(key, data[key]);\n  }\n  axios.post(\"/api/startup/login\", form_data).then((res) => {\n    dispatch({\n      type: LOGIN,\n      payload: res.data,\n    });\n  });\n};\n\n// GET USER PROFILE\nexport const getProfile = () => (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Brearer ${token}`,\n    },\n  };\n  try {\n    axios.get(\"/api/startup/profile\", config).then((res) => {\n      dispatch({\n        type: PROFILE,\n        payload: res.data,\n      });\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}