{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { SIGN_UP, LOGIN, PROFILE } from '../actions/types';\nconst initialState = {\n  isLoading: true,\n  token: null,\n  isAuthenticated: false,\n  message: null,\n  user: null,\n  signupsuccess: null\n};\nexport default function auth(state = initialState, action) {\n  var _action$payload, _action$payload2, _action$payload3, _action$payload3$data, _action$payload4, _action$payload4$data, _action$payload5, _action$payload6, _action$payload7;\n\n  switch (action.type) {\n    case SIGN_UP:\n      return _objectSpread(_objectSpread(_objectSpread({}, state), action.payload), {}, {\n        message: (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.message,\n        user: (_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.data,\n        isLoading: false,\n        signupsuccess: true\n      });\n\n    case LOGIN:\n      localStorage.setItem('token', (_action$payload3 = action.payload) === null || _action$payload3 === void 0 ? void 0 : (_action$payload3$data = _action$payload3.data) === null || _action$payload3$data === void 0 ? void 0 : _action$payload3$data.access_token);\n      return _objectSpread(_objectSpread(_objectSpread({}, state), action.payload), {}, {\n        isAuthenticated: true,\n        token: (_action$payload4 = action.payload) === null || _action$payload4 === void 0 ? void 0 : (_action$payload4$data = _action$payload4.data) === null || _action$payload4$data === void 0 ? void 0 : _action$payload4$data.access_token,\n        message: (_action$payload5 = action.payload) === null || _action$payload5 === void 0 ? void 0 : _action$payload5.message,\n        user: (_action$payload6 = action.payload) === null || _action$payload6 === void 0 ? void 0 : _action$payload6.data\n      });\n\n    case PROFILE:\n      return _objectSpread(_objectSpread(_objectSpread({}, state), action.payload), {}, {\n        isAuthenticated: true,\n        user: (_action$payload7 = action.payload) === null || _action$payload7 === void 0 ? void 0 : _action$payload7.data\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/whiteshadow/projects/benchmark-advisors/reducers/auth.js"],"names":["SIGN_UP","LOGIN","PROFILE","initialState","isLoading","token","isAuthenticated","message","user","signupsuccess","auth","state","action","type","payload","data","localStorage","setItem","access_token"],"mappings":";;;;;;AAAA,SACIA,OADJ,EAEIC,KAFJ,EAGIC,OAHJ,QAIO,kBAJP;AAMA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,SAAS,EAAE,IADM;AAEjBC,EAAAA,KAAK,EAAE,IAFU;AAGjBC,EAAAA,eAAe,EAAE,KAHA;AAIjBC,EAAAA,OAAO,EAAE,IAJQ;AAKjBC,EAAAA,IAAI,EAAE,IALW;AAMjBC,EAAAA,aAAa,EAAE;AANE,CAArB;AASE,eAAe,SAASC,IAAT,CAAcC,KAAK,GAAGR,YAAtB,EAAoCS,MAApC,EAA4C;AAAA;;AACzD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKb,OAAL;AACE,2DACKW,KADL,GAEKC,MAAM,CAACE,OAFZ;AAGEP,QAAAA,OAAO,qBAAEK,MAAM,CAACE,OAAT,oDAAE,gBAAgBP,OAH3B;AAIEC,QAAAA,IAAI,sBAAEI,MAAM,CAACE,OAAT,qDAAE,iBAAgBC,IAJxB;AAKEX,QAAAA,SAAS,EAAE,KALb;AAMEK,QAAAA,aAAa,EAAE;AANjB;;AAQA,SAAKR,KAAL;AACEe,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,sBAA8BL,MAAM,CAACE,OAArC,8EAA8B,iBAAgBC,IAA9C,0DAA8B,sBAAsBG,YAApD;AACA,2DACKP,KADL,GAEKC,MAAM,CAACE,OAFZ;AAGER,QAAAA,eAAe,EAAE,IAHnB;AAIED,QAAAA,KAAK,sBAAEO,MAAM,CAACE,OAAT,8EAAE,iBAAgBC,IAAlB,0DAAE,sBAAsBG,YAJ/B;AAKEX,QAAAA,OAAO,sBAAEK,MAAM,CAACE,OAAT,qDAAE,iBAAgBP,OAL3B;AAMEC,QAAAA,IAAI,sBAAEI,MAAM,CAACE,OAAT,qDAAE,iBAAgBC;AANxB;;AAQF,SAAKb,OAAL;AACE,2DACKS,KADL,GAEKC,MAAM,CAACE,OAFZ;AAGER,QAAAA,eAAe,EAAE,IAHnB;AAIEE,QAAAA,IAAI,sBAAEI,MAAM,CAACE,OAAT,qDAAE,iBAAgBC;AAJxB;;AAMF;AACE,aAAOJ,KAAP;AA5BN;AA8BD","sourcesContent":["import {\n    SIGN_UP,\n    LOGIN,\n    PROFILE,\n} from '../actions/types';\n\nconst initialState = {\n    isLoading: true,\n    token: null,\n    isAuthenticated: false,\n    message: null,\n    user: null,\n    signupsuccess: null\n  };\n  \n  export default function auth(state = initialState, action) {\n    switch (action.type) {\n      case SIGN_UP:\n        return {\n          ...state,\n          ...action.payload,\n          message: action.payload?.message,\n          user: action.payload?.data,\n          isLoading: false,\n          signupsuccess: true,\n        };\n        case LOGIN:\n          localStorage.setItem('token', action.payload?.data?.access_token);\n          return {\n            ...state,\n            ...action.payload,\n            isAuthenticated: true,\n            token: action.payload?.data?.access_token,\n            message: action.payload?.message,\n            user: action.payload?.data,\n          }\n        case PROFILE:\n          return {\n            ...state,\n            ...action.payload,\n            isAuthenticated: true,\n            user: action.payload?.data,\n          }\n        default:\n          return state;\n    }\n  }\n  "]},"metadata":{},"sourceType":"module"}