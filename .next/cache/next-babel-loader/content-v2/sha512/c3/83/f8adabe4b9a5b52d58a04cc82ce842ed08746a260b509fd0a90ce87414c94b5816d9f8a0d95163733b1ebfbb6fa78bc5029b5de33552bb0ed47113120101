{"ast":null,"code":"import axios from 'axios';\nimport { CLEAR_MESSAGES, SIGN_UP, SIGN_UP_FAIL, SIGN_UP_SUCCESS, LOGIN, LOGIN_FAIL, LOGIN_SUCCESS, PROFILE, PROFILE_UPDATE, PROFILE_UPDATE_FAIL, PROFILE_UPDATE_SUCCESS, PASSWORD_UPDATE, PASSWORD_UPDATE_FAIL, PASSWORD_UPDATE_SUCCESS } from './types'; // SIGNUP USER\n\nexport const signup = data => dispatch => {\n  dispatch({\n    type: SIGN_UP\n  });\n  data['files'] = [];\n  var form_data = new FormData();\n\n  for (var key in data) {\n    form_data.append(key, data[key]);\n  }\n\n  const config = {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  };\n  axios.post('/api/startup/signup/', form_data, config).then(res => {\n    dispatch({\n      type: SIGN_UP_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: SIGN_UP_FAIL,\n      payload: err.response.data\n    });\n  });\n}; // LOGIN USER\n\nexport const login = data => dispatch => {\n  dispatch({\n    type: LOGIN\n  });\n  var form_data = new FormData();\n\n  for (var key in data) {\n    form_data.append(key, data[key]);\n  }\n\n  axios.post('/api/startup/login', form_data).then(res => {\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: err.response.data\n    });\n  });\n}; // GET USER PROFILE\n\nexport const getProfile = () => dispatch => {\n  const token = localStorage.getItem('token');\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Brearer ${token}`\n    }\n  };\n\n  try {\n    axios.get('/api/startup/profile', config).then(res => {\n      dispatch({\n        type: PROFILE,\n        payload: res.data\n      });\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}; // Update Startup PROFILE\n\nexport const updateStartupProfile = data => dispatch => {\n  dispatch({\n    type: PROFILE_UPDATE\n  });\n  const token = localStorage.getItem('token');\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Brearer ${token}`\n    }\n  };\n  axios.post('/api/startup/update-profile', data, config).then(res => {\n    dispatch({\n      type: PROFILE_UPDATE_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: PROFILE_UPDATE_FAIL,\n      payload: err.response.data\n    });\n  });\n}; // Update password\n\nexport const updatePassword = (data, userType) => dispatch => {\n  dispatch({\n    type: PASSWORD_UPDATE\n  });\n  const token = localStorage.getItem('token');\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Brearer ${token}`\n    }\n  };\n  axios.post(`/api/${userType}/update-password`, data, config).then(res => {\n    dispatch({\n      type: PASSWORD_UPDATE_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: PASSWORD_UPDATE_FAIL,\n      payload: err.response.data\n    });\n  });\n}; // Clear message on page load\n\nexport const clearMessages = () => dispatch => {\n  dispatch({\n    type: CLEAR_MESSAGES\n  });\n};","map":null,"metadata":{},"sourceType":"module"}