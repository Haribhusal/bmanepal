{"ast":null,"code":"import axios from 'axios';\nimport { SIGN_UP, SIGN_UP_FAIL, SIGN_UP_SUCCESS, LOGIN, LOGIN_FAIL, LOGIN_SUCCESS, PROFILE, PROFILE_UPDATE, PROFILE_UPDATE_FAIL, PROFILE_UPDATE_SUCCESS } from './types';\nimport { useRouter } from 'next/router';\nimport { responsiveFontSizes } from '@material-ui/core'; // SIGNUP USER\n\nexport var signup = function signup(data) {\n  return function (dispatch) {\n    dispatch({\n      type: SIGN_UP\n    });\n    data['files'] = [];\n    var form_data = new FormData();\n\n    for (var key in data) {\n      form_data.append(key, data[key]);\n    }\n\n    var config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post('/api/startup/signup/', form_data, config).then(function (res) {\n      dispatch({\n        type: SIGN_UP_SUCCESS,\n        payload: res.data\n      });\n    })[\"catch\"](function (err) {\n      dispatch({\n        type: SIGN_UP_FAIL,\n        payload: err.response.data\n      });\n    });\n  };\n}; // LOGIN USER\n\nexport var login = function login(data) {\n  return function (dispatch) {\n    dispatch({\n      type: LOGIN\n    });\n    var form_data = new FormData();\n\n    for (var key in data) {\n      form_data.append(key, data[key]);\n    }\n\n    axios.post('/api/startup/login', form_data).then(function (res) {\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: res.data\n      });\n    })[\"catch\"](function (err) {\n      dispatch({\n        type: LOGIN_FAIL,\n        payload: err.response.data\n      });\n    });\n  };\n}; // GET USER PROFILE\n\nexport var getProfile = function getProfile() {\n  return function (dispatch) {\n    var token = localStorage.getItem('token');\n    var config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: \"Brearer \".concat(token)\n      }\n    };\n\n    try {\n      axios.get('/api/startup/profile', config).then(function (res) {\n        dispatch({\n          type: PROFILE,\n          payload: res.data\n        });\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}; // Update Startup PROFILE\n\nexport var updateStartupProfile = function updateStartupProfile() {\n  return function (dispatch) {\n    dispatch({\n      type: PROFILE_UPDATE\n    });\n    var token = localStorage.getItem('token');\n    var config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: \"Brearer \".concat(token)\n      }\n    };\n\n    try {\n      axios.post('/api/startup/update-profile', config).then(function (res) {\n        dispatch({\n          type: PROFILE_UPDATE_SUCCESS,\n          payload: res.data\n        });\n      });\n    } catch (error) {\n      console.log(error, 'i am error');\n      dispatch({\n        type: PROFILE_UPDATE_FAIL,\n        payload: err.response.data\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/home/whiteshadow/projects/benchmark-advisors/actions/auth.js"],"names":["axios","SIGN_UP","SIGN_UP_FAIL","SIGN_UP_SUCCESS","LOGIN","LOGIN_FAIL","LOGIN_SUCCESS","PROFILE","PROFILE_UPDATE","PROFILE_UPDATE_FAIL","PROFILE_UPDATE_SUCCESS","useRouter","responsiveFontSizes","signup","data","dispatch","type","form_data","FormData","key","append","config","headers","post","then","res","payload","err","response","login","getProfile","token","localStorage","getItem","Authorization","get","error","console","log","updateStartupProfile"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n    SIGN_UP,\n    SIGN_UP_FAIL,\n    SIGN_UP_SUCCESS,\n    LOGIN,\n    LOGIN_FAIL,\n    LOGIN_SUCCESS,\n    PROFILE,\n    PROFILE_UPDATE,\n    PROFILE_UPDATE_FAIL,\n    PROFILE_UPDATE_SUCCESS,\n} from './types';\nimport { useRouter } from 'next/router';\nimport { responsiveFontSizes } from '@material-ui/core';\n\n// SIGNUP USER\nexport const signup = (data) => (dispatch) => {\n    dispatch({ type: SIGN_UP });\n    data['files'] = [];\n    var form_data = new FormData();\n    for (var key in data) {\n        form_data.append(key, data[key]);\n    }\n    const config = {\n        headers: {\n            'content-type': 'multipart/form-data',\n        },\n    };\n    axios\n        .post('/api/startup/signup/', form_data, config)\n        .then((res) => {\n            dispatch({\n                type: SIGN_UP_SUCCESS,\n                payload: res.data,\n            });\n        })\n        .catch((err) => {\n            dispatch({\n                type: SIGN_UP_FAIL,\n                payload: err.response.data,\n            });\n        });\n};\n\n// LOGIN USER\nexport const login = (data) => (dispatch) => {\n    dispatch({ type: LOGIN });\n    var form_data = new FormData();\n    for (var key in data) {\n        form_data.append(key, data[key]);\n    }\n    axios\n        .post('/api/startup/login', form_data)\n        .then((res) => {\n            dispatch({\n                type: LOGIN_SUCCESS,\n                payload: res.data,\n            });\n        })\n        .catch((err) => {\n            dispatch({\n                type: LOGIN_FAIL,\n                payload: err.response.data,\n            });\n        });\n};\n\n// GET USER PROFILE\nexport const getProfile = () => (dispatch) => {\n    const token = localStorage.getItem('token');\n    const config = {\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Brearer ${token}`,\n        },\n    };\n    try {\n        axios.get('/api/startup/profile', config).then((res) => {\n            dispatch({\n                type: PROFILE,\n                payload: res.data,\n            });\n        });\n    } catch (error) {\n        console.log(error);\n    }\n};\n\n// Update Startup PROFILE\nexport const updateStartupProfile = () => (dispatch) => {\n    dispatch({ type: PROFILE_UPDATE });\n    const token = localStorage.getItem('token');\n    const config = {\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Brearer ${token}`,\n        },\n    };\n    try {\n        axios.post('/api/startup/update-profile', config).then((res) => {\n            dispatch({\n                type: PROFILE_UPDATE_SUCCESS,\n                payload: res.data,\n            });\n        });\n    } catch (error) {\n        console.log(error, 'i am error');\n        dispatch({\n            type: PROFILE_UPDATE_FAIL,\n            payload: err.response.data,\n        });\n    }\n};\n"]},"metadata":{},"sourceType":"module"}