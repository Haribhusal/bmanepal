{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport * as yup from 'yup';\nimport Select from 'react-select';\nimport { useRouter } from 'next/router';\nimport { useDispatch } from 'react-redux';\nimport { useForm, useFieldArray, Controller, useWatch } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { updateDocument } from '../../actions/startup';\n\nconst UpdateDocumentForm = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    register,\n    control,\n    handleSubmit,\n    reset,\n    watch\n  } = useForm({\n    defaultValues: {\n      document: [{\n        document_category_id: 1\n      }]\n    }\n  });\n  const {\n    fields,\n    append,\n    prepend,\n    remove,\n    swap,\n    move,\n    insert,\n    replace\n  } = useFieldArray({\n    control,\n    name: 'document'\n  });\n\n  const onSubmit = data => {\n    console.log(data, 'data.files[0]'); // let formData = new FormData();\n    // formData.append('files', data.files[0]);\n    // formData.append('document_category_id', 1);\n    // console.log(formData, 'i am formData');\n    // dispatch(updateDocument(formData));\n  };\n\n  const documentList = [{\n    id: 1,\n    title: 'PAN'\n  }, {\n    id: 2,\n    title: 'VAT'\n  }, {\n    id: 3,\n    title: 'Company Register Document'\n  }];\n  const documentOptions = documentList === null || documentList === void 0 ? void 0 : documentList.map(d => ({\n    value: d.id,\n    label: d.title\n  }));\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"col-sm-10 d-flex align-items-center\",\n      children: /*#__PURE__*/_jsx(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        className: \"w-100\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"formwrapper\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-sm-12\",\n              children: fields.map((item, index) => {\n                return /*#__PURE__*/_jsx(\"li\", {\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"col-sm-5\",\n                      style: {\n                        margin: 'auto'\n                      },\n                      children: /*#__PURE__*/_jsx(Controller, {\n                        name: \"document_category_id\",\n                        control: control,\n                        render: ({\n                          field: {\n                            onChange,\n                            value\n                          }\n                        }) => /*#__PURE__*/_jsx(Select, {\n                          options: documentOptions,\n                          value: documentOptions === null || documentOptions === void 0 ? void 0 : documentOptions.find(c => c.title === value),\n                          onChange: v => {\n                            onChange(v.value);\n                          }\n                        })\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"col-sm-5\",\n                      children: /*#__PURE__*/_jsx(\"input\", _objectSpread(_objectSpread({}, register('files')), {}, {\n                        name: \"files\",\n                        type: \"file\",\n                        className: \"form-control\"\n                      }))\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      onClick: () => remove(index),\n                      children: /*#__PURE__*/_jsx(\"i\", {\n                        class: \"la la-trash\",\n                        style: {\n                          color: 'red',\n                          fontSize: 40,\n                          cursor: 'pointer'\n                        }\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      onClick: () => append({\n                        document_category_id: 2\n                      }),\n                      children: /*#__PURE__*/_jsx(\"i\", {\n                        class: \"la la-plus-circle\",\n                        style: {\n                          color: 'green',\n                          fontSize: 40,\n                          cursor: 'pointer'\n                        }\n                      })\n                    })]\n                  })\n                }, item.id);\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-sm-12 d-flex justify-content-between\",\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"Submit\",\n                defaultValue: \"Submit\",\n                className: \"btn btn_p\"\n              })\n            })\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"rightbarContent\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"imagewrapper\",\n        children: /*#__PURE__*/_jsx(\"img\", {\n          src: \"images/joinbenchmark.png\",\n          className: \"img-fluid\",\n          alt: \"\"\n        })\n      })\n    })]\n  });\n};\n\nexport default UpdateDocumentForm;","map":null,"metadata":{},"sourceType":"module"}